"use strict";(self["webpackChunkweek4_front"]=self["webpackChunkweek4_front"]||[]).push([[491],{9491:function(t,s,e){e.r(s),e.d(s,{default:function(){return E}});var a=e(3396),o=e(9242),r=e(7139);const c={class:"wall"},n={class:"w-100 d-flex mb-8"},l={class:"selectArea"},i=(0,a._)("span",{class:"material-icons-outlined"}," expand_more ",-1),h={key:0,class:"dropdownList"},p={class:"searchArea"},u={for:"search"},d=(0,a._)("span",{class:"material-icons-outlined"}," close ",-1),g=[d],w=(0,a._)("span",{class:"text-white material-icons-outlined"}," search ",-1),m=[w],_={class:"postsWall"},D={key:0,class:"postsItem"},k=(0,a._)("div",{class:"wallHeader"},[(0,a._)("span",{class:"circle bg-red-600"}),(0,a._)("span",{class:"circle bg-yellow"}),(0,a._)("span",{class:"circle bg-green"})],-1),y={class:"noPosts"},b={key:0,class:"text-gray-500"},x={key:1,class:"text-gray-500"},$={key:1,class:"postsList"},f={href:"javascript:;",class:"d-flex ai-center mb-8"},v={class:"userPhotoBox photo-m"},S=["src"],I={class:"userName"},P={class:"fs-6 text-gray-500 fw-400"},T={class:"postContent mb-8"},C={key:0,class:"postImageBox"},z=["src"];function B(t,s,e,d,w,B){return(0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("article",n,[(0,a._)("div",l,[(0,a._)("button",{type:"button",class:"selectBtn",onClick:s[0]||(s[0]=(0,o.iM)((t=>B.openDropdown("sort")),["stop"]))},[(0,a.Uk)((0,r.zw)("dec"===w.sortStatus?"最新貼文":"最舊貼文")+" ",1),i]),t.dropdown.sort?((0,a.wg)(),(0,a.iD)("ul",h,[(0,a._)("li",null,[(0,a._)("button",{type:"button",onClick:s[1]||(s[1]=t=>B.changeSort("dec")),class:"w-100 h-100"},"最新貼文")]),(0,a._)("li",null,[(0,a._)("button",{type:"button",onClick:s[2]||(s[2]=t=>B.changeSort("asc")),class:"w-100 h-100"},"最舊貼文")])])):(0,a.kq)("",!0)]),(0,a._)("div",p,[(0,a._)("label",u,[(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=t=>w.searchInput=t),placeholder:"搜尋貼文",onKeydown:s[4]||(s[4]=(...t)=>B.searchEnter&&B.searchEnter(...t))},null,544),[[o.nr,w.searchInput]])]),""!==w.searchInput?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",class:"deleteBtn",onClick:s[5]||(s[5]=(...t)=>B.deleteSearch&&B.deleteSearch(...t))},g)):(0,a.kq)("",!0),(0,a._)("button",{type:"button",class:"searchBtn btn-primary",onClick:s[6]||(s[6]=t=>B.searchPosts())},m)])]),(0,a._)("article",_,[0===w.postsData.length?((0,a.wg)(),(0,a.iD)("div",D,[k,(0,a._)("div",y,[""===w.searchTxt?((0,a.wg)(),(0,a.iD)("p",b,"目前尚無動態，新增一則貼文吧！")):((0,a.wg)(),(0,a.iD)("p",x,"沒有與「"+(0,r.zw)(w.searchTxt)+"」相關的貼文",1))])])):((0,a.wg)(),(0,a.iD)("ul",$,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(w.postsData,(t=>((0,a.wg)(),(0,a.iD)("li",{class:"postsItem mb-8",key:t.id},[(0,a._)("a",f,[(0,a._)("div",v,[(0,a._)("img",{src:t.user.photo,class:"userPhoto",alt:"user照片"},null,8,S)]),(0,a._)("div",null,[(0,a._)("p",I,(0,r.zw)(t.user.name),1),(0,a._)("p",P,(0,r.zw)(B.getDateTxt(t.createdAt)),1)])]),(0,a._)("p",T,(0,r.zw)(t.content),1),""!==t.image?((0,a.wg)(),(0,a.iD)("div",C,[(0,a._)("img",{src:t.image,class:"postImage",alt:"貼文圖片"},null,8,z)])):(0,a.kq)("",!0)])))),128))]))])])}var M=e(65),q={data(){return{sortStatus:"dec",searchInput:"",searchTxt:"",postsData:[]}},computed:{...(0,M.rn)(["dropdown"])},watch:{sortStatus(){this.searchInput=this.searchTxt,this.getPostData(this.searchTxt)}},methods:{getPostData(t=""){this.$http.get(`https://murmuring-retreat-30602.herokuapp.com/posts?q=${t}&timeSort=${this.sortStatus}`).then((t=>{this.postsData=t.data.data})).catch((t=>{console.log(t)}))},openDropdown(t){this.dropdown.sort?this.$store.commit("closeDropdown",t):this.$store.commit("openDropdown",t)},changeSort(t){this.sortStatus=t},getDateTxt(t){const s=new Date(t),e=s.getFullYear(),a=`${s.getMonth()<10?"0":""}${s.getMonth()}`,o=`${s.getDate()<10?"0":""}${s.getDate()}`,r=`${s.getHours()<10?"0":""}${s.getHours()}`,c=`${s.getMinutes()<10?"0":""}${s.getMinutes()}`,n=`${e}/${a}/${o} ${r}:${c}`;return n},searchEnter(t){13===t.keyCode&&this.searchPosts()},searchPosts(){this.searchTxt=this.searchInput,this.getPostData(this.searchTxt)},deleteSearch(){this.searchTxt="",this.searchInput="",this.getPostData()}},created(){this.getPostData()}},H=e(89);const A=(0,H.Z)(q,[["render",B]]);var E=A}}]);
//# sourceMappingURL=491.730ffeee.js.map